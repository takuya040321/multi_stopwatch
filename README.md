# Multi Stopwatch

複数のタスクや作業時間を個別に計測・管理できるWindowsデスクトップアプリケーションです。

[![Flutter Version](https://img.shields.io/badge/Flutter-3.24.0%2B-blue)](https://flutter.dev/)
[![Dart Version](https://img.shields.io/badge/Dart-3.5.0%2B-blue)](https://dart.dev/)
[![License](https://img.shields.io/badge/license-MIT-green)](LICENSE)
[![Platform](https://img.shields.io/badge/platform-Windows-lightgrey)](https://www.microsoft.com/windows)

## 📋 プロジェクト概要

このアプリケーションは、複数のプロジェクトやタスクに従事するユーザーが、各作業にかかった時間を正確に記録・管理できるように設計されています。直感的なUIと柔軟な設定により、業務時間の可視化と効率的な時間管理を実現します。

### 主な利用シーン
- 複数プロジェクトの作業時間管理
- タスクごとの所要時間の計測
- 業務時間の記録と分析
- フリーランスの作業時間トラッキング

## ✨ 主な機能

### 基本機能
- **複数ストップウォッチ管理**: デフォルト2個、最大10個まで追加可能
- **柔軟な計測モード**: 単一計測または複数同時計測の切り替え
- **わかりやすい時間表示**: 
  - HH:MM形式（例: 01:30）
  - 0.25単位の小数表記（例: 1.5時間）
- **名称のカスタマイズ**: 各ストップウォッチに任意の名前を設定
- **データの永続化**: アプリを閉じても計測データを保持

### 高度な機能
- **自動停止機能**: 休憩時間など、指定した時刻に自動で計測を停止（最大5つまで設定可能）
- **レイアウト切り替え**: 縦スクロールまたはグリッド表示を選択可能
- **ウィンドウサイズの記憶**: リサイズしたウィンドウサイズを次回起動時に復元
- **バックグラウンド計測**: 最小化してもタイマーは継続

### 操作性
- **シンプルな操作**: 各ストップウォッチに開始/停止ボタンとリセットボタン
- **動的な追加・削除**: 必要に応じてストップウォッチを追加・削除可能
- **リサイズ対応**: ウィンドウサイズを自由に調整可能
- **キーボードショートカット**: Ctrl/Cmd+Nでストップウォッチを追加
- **ホバー効果**: カードやボタンにマウスを乗せると視覚的なフィードバック
- **確認ダイアログ**: 削除やリセット時に誤操作を防ぐ

## 🛠 技術スタック

### フレームワーク・言語
- **Flutter**: 3.24.0以降
- **Dart**: 3.5.0以降
- **対象プラットフォーム**: Windows 10以降

### 主要パッケージ
- **flutter_riverpod**: 状態管理（2.6.1）
- **hive / hive_flutter**: ローカルデータベース（2.2.3）
- **shared_preferences**: 設定の永続化（2.3.3）
- **window_manager**: ウィンドウ制御（0.4.3）
- **path_provider**: ファイルパス取得（2.1.5）
- **intl**: 時間フォーマット（0.19.0）
- **uuid**: 一意識別子の生成（4.5.1）

### 開発用パッケージ
- **flutter_test**: テストフレームワーク
- **flutter_lints**: リント設定（5.0.0）
- **mockito**: モック作成（5.4.4）
- **build_runner**: コード生成（2.4.13）
- **hive_generator**: Hiveアダプタ生成（2.0.1）

### アーキテクチャ
- **MVVMパターン**: UIとビジネスロジックの分離
- **Repository パターン**: データ層の抽象化
- **Provider による状態管理**: Riverpodを使用した効率的な状態管理

## 🚀 セットアップ

### 前提条件
- Flutter SDK 3.24.0以降がインストールされていること
- Dart SDK 3.5.0以降がインストールされていること
- Windows 10以降のOS
- Visual Studio 2022以降（C++デスクトップ開発ツールを含む）

### インストール手順

1. **リポジトリのクローン**
   ```bash
   git clone https://github.com/takuya040321/multi_stopwatch.git
   cd multi_stopwatch
   ```

2. **依存パッケージのインストール**
   ```bash
   flutter pub get
   ```

3. **コード生成（必要な場合）**
   ```bash
   flutter pub run build_runner build
   ```

4. **アプリケーションの起動**
   ```bash
   flutter run -d windows
   ```

### リリースビルド
```bash
flutter build windows --release
```

ビルドされた実行ファイルは `build/windows/runner/Release/` に生成されます。

## 📖 使い方

### 基本的な使い方

1. **ストップウォッチの追加**
   - 画面上部の「追加」ボタンをクリック
   - 新しいストップウォッチが追加されます

2. **時間の計測**
   - 「開始」ボタンをクリックして計測を開始
   - 「停止」ボタンをクリックして計測を停止
   - 「リセット」ボタンで時間を0にリセット

3. **名称の設定**
   - 各ストップウォッチの名称欄をクリック
   - 任意の名前を入力（例: プロジェクトA、タスクB）

4. **ストップウォッチの削除**
   - 「削除」ボタンをクリック
   - 最小2個は残ります

### 設定のカスタマイズ

設定ボタン（⚙アイコン）から以下の設定が可能です：

- **計測モード**
  - 単一計測モード: 1つのストップウォッチのみ計測可能（他は自動停止）
  - 複数同時計測モード: 複数のストップウォッチを同時に計測可能

- **レイアウト**
  - 縦スクロール: ストップウォッチを縦に並べて表示
  - グリッド: ウィンドウサイズに応じて自動的に配置（400px単位で列数を調整）

- **自動停止時刻**
  - 指定した時刻に計測を自動停止（最大5つ）
  - 各時刻の有効/無効を個別に切り替え可能
  - 1分ごとにチェック

### キーボードショートカット

- **Ctrl+N / Cmd+N**: ストップウォッチを追加

## 🤝 貢献方法

プロジェクトへの貢献を歓迎します！バグ報告、機能提案、プルリクエストなど、どのような形でも構いません。

詳細は [CONTRIBUTING.md](CONTRIBUTING.md) をご覧ください。

### 開発フロー
1. Issueを作成して機能やバグを報告
2. ブランチを作成して実装
3. プルリクエストを作成
4. レビュー後にマージ

## 📚 ドキュメント

プロジェクトの詳細なドキュメントは `docs/` ディレクトリに格納されています：

- [要件定義書](docs/requirement.md): 機能要件と非機能要件
- [技術仕様書](docs/technical_spec.md): 技術スタックとアーキテクチャ
- [システム設計書](docs/system_design.md): データモデルとシステム構成
- [実装計画書](docs/implementation_plan.md): 開発フェーズとマイルストーン

開発に参加される方は [CLAUDE.md](CLAUDE.md) もご確認ください。

## 📝 ライセンス

このプロジェクトは [MITライセンス](LICENSE) の下で公開されています。

## 🐛 バグ報告・機能提案

バグを見つけた場合や新しい機能を提案したい場合は、[Issues](https://github.com/takuya040321/multi_stopwatch/issues) から報告してください。

## 📧 お問い合わせ

質問や不明点がある場合は、以下の方法でお気軽にお問い合わせください：

- GitHubのIssueを作成
- プロジェクトメンテナーに連絡

## 🎯 ロードマップ

### v1.0.0（リリース済み）
- ✅ 基本的なストップウォッチ機能（追加/削除/開始/停止/リセット）
- ✅ データ永続化（Hive）
- ✅ 自動停止機能（最大5つの時刻設定）
- ✅ レイアウト切り替え（縦スクロール/グリッド）
- ✅ ウィンドウサイズの記憶
- ✅ UI/UXの改善（アニメーション、ホバー効果、確認ダイアログ）
- ✅ キーボードショートカット
- ✅ 包括的なテストスイート（26テスト）

### v1.1.0（計画中）
- データエクスポート機能（CSV、Excel）
- レポート機能（日次・週次・月次）
- タグ・カテゴリ機能

### v2.0.0（将来の予定）
- ダークモード対応
- 他プラットフォーム（macOS、Linux）への対応
- クラウド同期機能

詳細は [実装計画書](docs/implementation_plan.md) および [CHANGELOG.md](CHANGELOG.md) をご覧ください。

## 🙏 謝辞

このプロジェクトは以下のオープンソースプロジェクトを活用しています：

- [Flutter](https://flutter.dev/)
- [Riverpod](https://riverpod.dev/)
- [Hive](https://docs.hivedb.dev/)

---

**作成日**: 2025年1月22日
**バージョン**: 1.0.0
**リポジトリ**: [GitHub](https://github.com/takuya040321/multi_stopwatch)
**言語**: 日本語 | [English](README_EN.md)（準備中）